(function(t,e){var i=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},n=function(){var t=e.createElement("input");return t.setAttribute("type","number"),"text"!==t.type},r=function(){for(var t=e.getElementsByTagName("input"),n=0,r=t.length;r>n;n++){var s=t[n];"number"===s.getAttribute("type").toLowerCase()&&i(s,"change",o)}},o=function(){var t=this.getAttribute("min"),e=this.getAttribute("max"),i=parseInt(this.value,10);isNaN(i)||(e&&i>e?this.value=e:t&&t>i&&(this.value=t))};n()||i(t,"load",r)})(this,this.document),function(){"use strict";var t,e=function(t,e){var i=t.style[e];if(t.currentStyle?i=t.currentStyle[e]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),"auto"==i&&"cursor"==e)for(var n=["a"],r=0;n.length>r;r++)if(t.tagName.toLowerCase()==n[r])return"pointer";return i},i=function(t){if(h.prototype._singleton){t||(t=window.event);var e;this!==window?e=this:t.target?e=t.target:t.srcElement&&(e=t.srcElement),h.prototype._singleton.setCurrent(e)}},n=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},r=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},o=function(t,e){if(t.addClass)return t.addClass(e),t;if(e&&"string"==typeof e){var i=(e||"").split(/\s+/);if(1===t.nodeType)if(t.className){for(var n=" "+t.className+" ",r=t.className,o=0,s=i.length;s>o;o++)0>n.indexOf(" "+i[o]+" ")&&(r+=" "+i[o]);t.className=r.replace(/^\s+|\s+$/g,"")}else t.className=e}return t},s=function(t,e){if(t.removeClass)return t.removeClass(e),t;if(e&&"string"==typeof e||void 0===e){var i=(e||"").split(/\s+/);if(1===t.nodeType&&t.className)if(e){for(var n=(" "+t.className+" ").replace(/[\n\t]/g," "),r=0,o=i.length;o>r;r++)n=n.replace(" "+i[r]+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}else t.className=""}return t},a=function(t){var i={left:0,top:0,width:t.width||t.offsetWidth||0,height:t.height||t.offsetHeight||0,zIndex:9999},n=e(t,"zIndex");for(n&&"auto"!=n&&(i.zIndex=parseInt(n,10));t;){var r=parseInt(e(t,"borderLeftWidth"),10),o=parseInt(e(t,"borderTopWidth"),10);i.left+=isNaN(t.offsetLeft)?0:t.offsetLeft,i.left+=isNaN(r)?0:r,i.top+=isNaN(t.offsetTop)?0:t.offsetTop,i.top+=isNaN(o)?0:o,t=t.offsetParent}return i},l=function(t){return(t.indexOf("?")>=0?"&":"?")+"nocache="+(new Date).getTime()},u=function(t){var e=[];return t.trustedDomains&&("string"==typeof t.trustedDomains?e.push("trustedDomain="+t.trustedDomains):e.push("trustedDomain="+t.trustedDomains.join(","))),e.join("&")},c=function(t,e){if(e.indexOf)return e.indexOf(t);for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},p=function(t){if("string"==typeof t)throw new TypeError("ZeroClipboard doesn't accept query strings.");return t.length?t:[t]},h=function(t,e){if(t&&(h.prototype._singleton||this).glue(t),h.prototype._singleton)return h.prototype._singleton;h.prototype._singleton=this,this.options={};for(var i in f)this.options[i]=f[i];for(var n in e)this.options[n]=e[n];this.handlers={},h.detectFlashSupport()&&m()},d=[];h.prototype.setCurrent=function(i){t=i,this.reposition(),i.getAttribute("title")&&this.setTitle(i.getAttribute("title")),this.setHandCursor("pointer"==e(i,"cursor"))},h.prototype.setText=function(t){t&&""!==t&&(this.options.text=t,this.ready()&&this.flashBridge.setText(t))},h.prototype.setTitle=function(t){t&&""!==t&&this.htmlBridge.setAttribute("title",t)},h.prototype.setSize=function(t,e){this.ready()&&this.flashBridge.setSize(t,e)},h.prototype.setHandCursor=function(t){this.ready()&&this.flashBridge.setHandCursor(t)},h.version="1.1.7";var f={moviePath:"ZeroClipboard.swf",trustedDomains:null,text:null,hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",allowScriptAccess:"sameDomain"};h.setDefaults=function(t){for(var e in t)f[e]=t[e]},h.destroy=function(){h.prototype._singleton.unglue(d);var t=h.prototype._singleton.htmlBridge;t.parentNode.removeChild(t),delete h.prototype._singleton},h.detectFlashSupport=function(){var t=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(t=!0)}catch(e){navigator.mimeTypes["application/x-shockwave-flash"]&&(t=!0)}return t};var m=function(){var t=h.prototype._singleton,e=document.getElementById("global-zeroclipboard-html-bridge");if(!e){var i='      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" id="global-zeroclipboard-flash-bridge" width="100%" height="100%">         <param name="movie" value="'+t.options.moviePath+l(t.options.moviePath)+'"/>         <param name="allowScriptAccess" value="'+t.options.allowScriptAccess+'"/>         <param name="scale" value="exactfit"/>         <param name="loop" value="false"/>         <param name="menu" value="false"/>         <param name="quality" value="best" />         <param name="bgcolor" value="#ffffff"/>         <param name="wmode" value="transparent"/>         <param name="flashvars" value="'+u(t.options)+'"/>         <embed src="'+t.options.moviePath+l(t.options.moviePath)+'"           loop="false" menu="false"           quality="best" bgcolor="#ffffff"           width="100%" height="100%"           name="global-zeroclipboard-flash-bridge"           allowScriptAccess="always"           allowFullScreen="false"           type="application/x-shockwave-flash"           wmode="transparent"           pluginspage="http://www.macromedia.com/go/getflashplayer"           flashvars="'+u(t.options)+'"           scale="exactfit">         </embed>       </object>';e=document.createElement("div"),e.id="global-zeroclipboard-html-bridge",e.setAttribute("class","global-zeroclipboard-container"),e.setAttribute("data-clipboard-ready",!1),e.style.position="absolute",e.style.left="-9999px",e.style.top="-9999px",e.style.width="15px",e.style.height="15px",e.style.zIndex="9999",e.innerHTML=i,document.body.appendChild(e)}t.htmlBridge=e,t.flashBridge=document["global-zeroclipboard-flash-bridge"]||e.children[0].lastElementChild};h.prototype.resetBridge=function(){this.htmlBridge.style.left="-9999px",this.htmlBridge.style.top="-9999px",this.htmlBridge.removeAttribute("title"),this.htmlBridge.removeAttribute("data-clipboard-text"),s(t,this.options.activeClass),t=null,this.options.text=null},h.prototype.ready=function(){var t=this.htmlBridge.getAttribute("data-clipboard-ready");return"true"===t||t===!0},h.prototype.reposition=function(){if(!t)return!1;var e=a(t);this.htmlBridge.style.top=e.top+"px",this.htmlBridge.style.left=e.left+"px",this.htmlBridge.style.width=e.width+"px",this.htmlBridge.style.height=e.height+"px",this.htmlBridge.style.zIndex=e.zIndex+1,this.setSize(e.width,e.height)},h.dispatch=function(t,e){h.prototype._singleton.receiveEvent(t,e)},h.prototype.on=function(t,e){for(var i=(""+t).split(/\s/g),n=0;i.length>n;n++)t=i[n].toLowerCase().replace(/^on/,""),this.handlers[t]||(this.handlers[t]=e);this.handlers.noflash&&!h.detectFlashSupport()&&this.receiveEvent("onNoFlash",null)},h.prototype.addEventListener=h.prototype.on,h.prototype.off=function(t,e){for(var i=(""+t).split(/\s/g),n=0;i.length>n;n++){t=i[n].toLowerCase().replace(/^on/,"");for(var r in this.handlers)r===t&&this.handlers[r]===e&&delete this.handlers[r]}},h.prototype.removeEventListener=h.prototype.off,h.prototype.receiveEvent=function(e,i){e=(""+e).toLowerCase().replace(/^on/,"");var n=t;switch(e){case"load":if(i&&10>parseFloat(i.flashVersion.replace(",",".").replace(/[^0-9\.]/gi,"")))return this.receiveEvent("onWrongFlash",{flashVersion:i.flashVersion}),void 0;this.htmlBridge.setAttribute("data-clipboard-ready",!0);break;case"mouseover":o(n,this.options.hoverClass);break;case"mouseout":s(n,this.options.hoverClass),this.resetBridge();break;case"mousedown":o(n,this.options.activeClass);break;case"mouseup":s(n,this.options.activeClass);break;case"datarequested":var r=n.getAttribute("data-clipboard-target"),a=r?document.getElementById(r):null;if(a){var l=a.value||a.textContent||a.innerText;l&&this.setText(l)}else{var u=n.getAttribute("data-clipboard-text");u&&this.setText(u)}break;case"complete":this.options.text=null}if(this.handlers[e]){var c=this.handlers[e];"function"==typeof c?c.call(n,this,i):"string"==typeof c&&window[c].call(n,this,i)}},h.prototype.glue=function(t){t=p(t);for(var e=0;t.length>e;e++)-1==c(t[e],d)&&(d.push(t[e]),n(t[e],"mouseover",i))},h.prototype.unglue=function(t){t=p(t);for(var e=0;t.length>e;e++){r(t[e],"mouseover",i);var n=c(t[e],d);-1!=n&&d.splice(n,1)}},"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd?define(function(){return h}):window.ZeroClipboard=h}(),function(){var t=[].slice,e=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};(function(){var i,n,r,o;return n=function(){function n(t){this.sourceText=t,this.frequencyLib=new i}return n.ignoredCharacters=['"',"`","‘","’","“","”","[","]","(",")","{","}","«","»","\r","\n"],n.sentenceEnders=[".","!","?"],n.clauseSeparators=t.call(n.sentenceEnders).concat([","],[";"]),n.prototype.generate=function(t,e){var i,r,o,s,a;if(null==e&&(e=6),!(t>0))return"";for(a=this.getKey(e),i=(a.match(/\s/g)||[]).length+1,o=a;t>=i;)r=this.getDistributedChar(a),null!=r?(a+=r,a=a.slice(1),/\s/.test(r)&&i++):(o=o.replace(/\s+$/,""),a=this.getKey(e),r=" "+a,i+=(a.match(/\s/g)||[]).length+1),o+=r;return s=RegExp("[\\\\"+n.clauseSeparators.join("\\\\")+"\\s]*$"),o=o.split(" ").slice(0,t).join(" ").replace(s,"")+"."},n.prototype.getKey=function(t){var e,i,r,o,s,a;return t?(e="\\\\"+n.sentenceEnders.join("\\\\"),s=RegExp("(^[A-Z].{"+(t-1)+"}|["+e+"]\\s*[A-Z].{"+(t-1)+"})","gm"),r=this.sourceText.match(s),r?(o=RegExp("^["+e+"]?\\s*(.+)"),i=r[Math.floor(Math.random()*r.length)].replace(o,"$1")):(a=Math.floor(Math.random()*(this.sourceText.length-t)),i=this.sourceText.substring(a,a+t)),i):""},n.prototype.getDistributedChar=function(t){var i,r,o;if(!this.frequencyLib.contains(t))for(i=0;i>=0;)i=this.sourceText.indexOf(t,i),r=i+t.length,i>=0&&(i++,o=this.sourceText[r],this.sourceText.length>r&&0>e.call(n.ignoredCharacters,o)&&this.frequencyLib.add(t,o));return this.frequencyLib.getFrequencies(t)?this.frequencyLib.randomUniformChoose(t):null},n}(),r=function(){function t(t){this.cardinality=0,this.multiSetRep={},t&&this.add(initialChar)}return t.prototype.getCardinality=function(){return this.cardinality},t.prototype.getElementCount=function(t){return this.multiSetRep[t]||0},t.prototype.getElementSet=function(){return Object.keys(this.multiSetRep)},t.prototype.add=function(t){return t in this.multiSetRep||(this.multiSetRep[t]=0),this.multiSetRep[t]++,this.cardinality++},t.prototype.remove=function(t){return t in this.multiSetRep?(this.multiSetRep[t]--,0===this.multiSetRep[t]&&delete this.multiSetRep[t],this.cardinality--):!1},t.prototype.randomUniformChoose=function(){var t,e,i,n;t=Math.floor(Math.random()*this.cardinality),n=this.multiSetRep;for(e in n)if(i=n[e],t-=i,0>t)return e},t}(),i=function(){function t(){this.freqLibRep={}}return t.prototype.size=function(){return Object.keys(this.freqLibRep).length},t.prototype.contains=function(t){return t in this.freqLibRep},t.prototype.getFrequencies=function(t){return this.freqLibRep[t]},t.prototype.add=function(t,e){var i;return i=this.getFrequencies(t),null==i&&(i=this.freqLibRep[t]=new r),i.add(e)},t.prototype.remove=function(t,e){var i,n,r;return this.contains(target)?(r=this.getFrequencies(t),n=r.getCardinality(),r.remove(e),i=r.getCardinality(),0===r.getCardinality()&&freqLibRep.remove(t),1===n-i):!1},t.prototype.randomUniformChoose=function(t){var e;return e=this.getFrequencies(t),null==e?0:e.randomUniformChoose()},t}(),null==(o=Object.keys)&&(Object.keys=function(t){var e,i;i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);return i}),this.LibroIpsum=n,null!=("undefined"!=typeof module&&null!==module?module.exports:void 0)&&(module.exports=n),"function"==typeof define&&null!=define.amd?define("LibroIpsum",function(){return n}):void 0})()}.call(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){this.container=t,this.init()}function i(e,i){this.widget=e,this.options=t.extend({},i),this.detectService(),this.service&&this.init()}function n(t,e){return r(t,e,encodeURIComponent)}function r(t,e,i){return t.replace(/\{([^\}]+)\}/g,function(t,n){return n in e?i?i(e[n]):e[n]:t})}function o(t,e){var i=l+t;return i+" "+i+"_"+e}function s(e){function i(o){"keydown"===o.type&&27!==o.which||t(o.target).closest(e).length||(e.fadeOut(u),n.off(r,i))}var n=t(document),r="click touchstart keydown";n.on(r,i)}function a(t,e){if(document.documentElement.getBoundingClientRect){var i=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);t.css("visibility","hidden").show();var r=t[0].getBoundingClientRect();e>r.left?t.css("left",e-r.left+i):r.right>window.innerWidth-e&&t.css("left",window.innerWidth-r.right-e+i),e>r.top?t.css("top",e-r.top+n):r.bottom>window.innerHeight-e&&t.css("top",window.innerHeight-r.bottom-e+n),t.hide().css("visibility","visible")}t.fadeIn(u)}var l="social-likes__",u="fast",c={facebook:{counterUrl:"http://graph.facebook.com/fql?q=SELECT+total_count+FROM+link_stat+WHERE+url%3D%22{url}%22&callback=?",convertNumber:function(t){return t.data[0].total_count},popupUrl:"http://www.facebook.com/sharer/sharer.php?u={url}",popupWidth:600,popupHeight:500},twitter:{counterUrl:"http://urls.api.twitter.com/1/urls/count.json?url={url}&callback=?",convertNumber:function(t){return t.count},popupUrl:"http://twitter.com/intent/tweet?url={url}&text={title}",popupWidth:600,popupHeight:450,click:function(){return/[\.:\-–—]\s*$/.test(this.options.pageTitle)||(this.options.pageTitle+=":"),!0}},mailru:{counterUrl:"http://connect.mail.ru/share_count?url_list={url}&callback=1&func=?",convertNumber:function(t){for(var e in t)if(t.hasOwnProperty(e))return t[e].shares},popupUrl:"http://connect.mail.ru/share?share_url={url}&title={title}",popupWidth:550,popupHeight:360},vkontakte:{counterUrl:"http://vkontakte.ru/share.php?act=count&url={url}&index={index}",counter:function(e,i){var r=c.vkontakte;r._||(r._=[],window.VK||(window.VK={}),window.VK.Share={count:function(t,e){r._[t].resolve(e)}});var o=r._.length;r._.push(i),t.ajax({url:n(e,{index:o}),dataType:"jsonp"})},popupUrl:"http://vk.com/share.php?url={url}&title={title}",popupWidth:550,popupHeight:330},odnoklassniki:{counterUrl:"http://www.odnoklassniki.ru/dk?st.cmd=extLike&ref={url}&uid={index}",counter:function(e,i){var r=c.odnoklassniki;r._||(r._=[],window.ODKL||(window.ODKL={}),window.ODKL.updateCount=function(t,e){r._[t].resolve(e)});var o=r._.length;r._.push(i),t.ajax({url:n(e,{index:o}),dataType:"jsonp"})},popupUrl:"http://www.odnoklassniki.ru/dk?st.cmd=addShare&st._surl={url}",popupWidth:550,popupHeight:360},plusone:{popupUrl:"https://plus.google.com/share?url={url}",popupWidth:700,popupHeight:500},livejournal:{click:function(){var e=this._livejournalForm;if(!e){var i=this.options.pageHtml.replace(/&/g,"&amp;").replace(/"/g,"&quot;");e=t(r('<form action="http://www.livejournal.com/update.bml" method="post" target="_blank" accept-charset="UTF-8"><input type="hidden" name="mode" value="full"><input type="hidden" name="subject" value="{title}"><input type="hidden" name="event" value="{html}"></form>',{title:this.options.pageTitle,html:i})),this.widget.append(e),this._livejournalForm=e}e.submit()}},pinterest:{counterUrl:"http://api.pinterest.com/v1/urls/count.json?url={url}&callback=?",convertNumber:function(t){return t.count},popupUrl:"http://pinterest.com/pin/create/button/?url={url}&description={title}",popupWidth:630,popupHeight:270}},p={promises:{},fetch:function(e,i,r){p.promises[e]||(p.promises[e]={});var o=p.promises[e];if(o[i])return o[i];var s=t.extend({},c[e],r),a=t.Deferred(),l=s.counterUrl&&n(s.counterUrl,{url:i});return t.isFunction(s.counter)?s.counter(l,a):s.counterUrl&&t.getJSON(l).done(function(e){try{var i=e;t.isFunction(s.convertNumber)&&(i=s.convertNumber(e)),a.resolve(i)}catch(n){a.reject(n)}}),o[i]=a.promise(),o[i]}};t.fn.socialLikes=function(){return this.each(function(){new e(t(this))})},e.prototype={optionsMap:{pageUrl:{attr:"url",defaultValue:function(){return window.location.href.replace(window.location.hash,"")}},pageTitle:{attr:"title",defaultValue:function(){return document.title}},pageHtml:{attr:"html",defaultValue:function(){return'<a href="'+this.options.pageUrl+'">'+this.options.pageTitle+"</a>"}},pageCounters:{attr:"counters",defaultValue:"yes",convert:function(t){return"yes"===t}}},init:function(){this.readOptions(),this.single=this.container.hasClass("social-likes_single"),this.initUserButtons(),this.single&&(this.makeSingleButton(),this.container.on("counter.social-likes",t.proxy(this.updateCounter,this)));var e=this.options;this.container.find("li").each(function(){new i(t(this),e)})},readOptions:function(){this.options={};for(var e in this.optionsMap){var i=this.optionsMap[e];this.options[e]=this.container.data(i.attr)||(t.isFunction(i.defaultValue)?t.proxy(i.defaultValue,this)():i.defaultValue),t.isFunction(i.convert)&&(this.options[e]=i.convert(this.options[e]))}},initUserButtons:function(){!this.userButtonInited&&window.socialLikesButtons&&t.extend(c,socialLikesButtons),this.userButtonInited=!0},makeSingleButton:function(){var e=this.container;e.addClass("social-likes_vertical"),e.wrap(t("<div>",{"class":"social-likes_single-w"}));var i=e.parent(),n=parseInt(e.css("left"),10),r=parseInt(e.css("top"),10);e.hide();var c=t("<div>",{"class":o("button","single"),text:e.data("single-title")||"Share"});c.prepend(t("<span>",{"class":o("icon","single")})),i.append(c);var p=t("<li>",{"class":l+"close",html:"&times;"});e.append(p),this.number=0,c.click(function(){return e.css({left:n,top:r}),a(e,20),s(e),!1}),p.click(function(){e.fadeOut(u)}),this.wrapper=i},updateCounter:function(t,e){e&&(this.number+=e,this.getCounterElem().text(this.number))},getCounterElem:function(){var e=this.wrapper.find("."+l+"counter_single");return e.length||(e=t("<span>",{"class":o("counter","single")}),this.wrapper.append(e)),e}},i.prototype={init:function(){if(this.detectParams(),this.initHtml(),this.options.pageCounters)if(this.options.counterNumber)this.updateCounter(this.options.counterNumber);else{var e=this.options.counterUrl?{counterUrl:this.options.counterUrl}:{};p.fetch(this.service,this.options.pageUrl,e).done(t.proxy(this.updateCounter,this))}},detectService:function(){for(var e=this.widget[0].classList||this.widget[0].className.split(" "),i=0;e.length>i;i++){var n=e[i];if(c[n])return this.service=n,t.extend(this.options,c[n]),void 0}},detectParams:function(){var t=this.widget.data("counter");if(t){var e=parseInt(t,10);isNaN(e)?this.options.counterUrl=t:this.options.counterNumber=e}var i=this.widget.data("title");i&&(this.options.pageTitle=i);var n=this.widget.data("url");n&&(this.options.pageUrl=n)},initHtml:function(){var e=this.options,i=this.widget,r=!!e.clickUrl;i.removeClass(this.service),i.addClass(this.getElementClassNames("widget"));var o=i.find("a");o.length&&this.cloneDataAttrs(o,i);var s=t(r?"<a>":"<span>",{"class":this.getElementClassNames("button"),text:i.text()});if(r){var a=n(e.clickUrl,{url:e.pageUrl,title:e.pageTitle});s.attr("href",a)}else s.click(t.proxy(this.click,this));s.prepend(t("<span>",{"class":this.getElementClassNames("icon")})),i.empty().append(s),this.button=s},cloneDataAttrs:function(t,e){var i=t.data();for(var n in i)i.hasOwnProperty(n)&&e.data(n,i[n])},getElementClassNames:function(t){return o(t,this.service)},updateCounter:function(e){if(e=parseInt(e,10)){var i=t("<span>",{"class":this.getElementClassNames("counter"),text:e});this.widget.append(i),this.widget.trigger("counter.social-likes",e)}},click:function(e){var i=this.options,r=!0;if(t.isFunction(i.click)&&(r=i.click.call(this,e)),r){var o=n(i.popupUrl,{url:i.pageUrl,title:i.pageTitle});o=this.addAdditionalParamsToUrl(o),this.openPopup(o,{width:i.popupWidth,height:i.popupHeight})}return!1},addAdditionalParamsToUrl:function(e){var i=t.param(this.widget.data());if(!i)return e;var n=-1===e.indexOf("?")?"?":"&";return e+n+i},openPopup:function(t,e){var i=Math.round(screen.width/2-e.width/2),n=0;screen.height>e.height&&(n=Math.round(screen.height/3-e.height/2));var r=window.open(t,"sl_"+this.service,"left="+i+",top="+n+","+"width="+e.width+",height="+e.height+",personalbar=0,toolbar=0,scrollbars=1,resizable=1");r?r.focus():location.href=t}},t(function(){t(".social-likes").socialLikes()})}),function(t,e,i){var n,r,o,s,a;n={keyLength:6,apiUrlBase:"http://api.libroipsum.com/"},r={enterSource:"Enter your source text:",loading:"Loading...",apiFailed:"Failed to contact LibroIpsum API",copied:"Copied!"},o={supportsLocalStorage:function(){try{return"localStorage"in e&&null!==e.localStorage}catch(t){return!1}},sources:{set:function(t,e){if(o.supportsLocalStorage()){var i=o.sources._getStore();i[t]=e,o.sources._setStore(i)}},getKeys:function(){var t,e=[];if(o.supportsLocalStorage()){t=o.sources._getStore();for(var i in t)e.push(i)}return e},get:function(t){if(!o.supportsLocalStorage())return i;var e=o.sources._getStore();return e[t]},_getStore:function(){return JSON.parse(localStorage.sources||"{}")},_setStore:function(t){localStorage.sources=JSON.stringify(t)}},parseIntOrDefault:function(t){var e=parseInt(t,10);return isNaN(e)?0:e},cache:{$els:{},ipsums:{},getJqueryObject:function(e){return e in o.cache.$els||(o.cache.$els[e]=t(e)),o.cache.$els[e]},getLibroIpsum:function(t,e){return t in o.cache.ipsums||(o.cache.ipsums[t]=new LibroIpsum(e)),o.cache.ipsums[t]}}},s=o.cache.getJqueryObject,a={init:function(){a.bindEvents(),a.setupClipboard(),a.showCustomSources()},bindEvents:function(){s("#selSource").on("change",a.promptCustom),s("#frmGenerate").on("submit",function(t){t.preventDefault(),a.generateText()}),s("#txtWords,#txtParagraphs").on("click",function(){this.select()})},setupClipboard:function(){var t=function(){var t=s("#btnClipboard"),e=t.width(),i=t.html();t.html(r.copied).width(e),setTimeout(function(){t.html(i).css("width","auto")},3e3)};if("clipboardData"in e)s("#btnClipboard").on("click",function(){var i=s("#lipsumBody").val();e.clipboardData.setData("Text",i),t()});else{var i=new ZeroClipboard(s("#btnClipboard"),{moviePath:"/obj/ZeroClipboard.swf"});i.on("dataRequested",function(){var t=s("#lipsumBody").val();i.setText(t)}),i.on("complete",t)}},promptCustom:function(){if("optCustom"===t("option:selected",this).attr("id")){var e=prompt(r.enterSource);if(null!=e){var i=e.substring(0,40);o.sources.set(i,e),a.showCustomSources(i)}}},showCustomSources:function(t){var e,i=o.sources.getKeys();if(i.length){e=document.createDocumentFragment();for(var n=0,r=i.length;r>n;n++){var a=i[n],l=document.createElement("option");l.value=a,l.innerHTML=a,l.setAttribute("data-is-custom","true"),"string"==typeof t&&t==a&&l.setAttribute("selected",""),e.appendChild(l)}s("#optGroupCustom").find("[data-is-custom]").remove().end().prepend(e)}},generateText:function(){var e=s("#selSource").find(":selected"),i=o.parseIntOrDefault(s("#txtWords").val()),l=o.parseIntOrDefault(s("#txtParagraphs").val());if(e.data("isCustom")){var u=e.val(),c=o.sources.get(u);if(c){for(var p="",h=o.cache.getLibroIpsum(u,c);l--;)p+=h.generate(i,n.keyLength)+"\n\n";a.renderText(p)}}else{a.renderText(r.loading);var d=n.apiUrlBase+e.val()+"?words="+i+"&paragraphs="+l+"&callback=?";t.getJSON(d).success(function(t){a.renderText(t.text)}).error(function(){a.renderText(r.apiFailed)})}},renderText:function(t){t=t.replace(/\s*$/,""),s("#lipsumBody").val(t)}},t(document).ready(a.init),e.LibroIpsumApp=a}(this.jQuery,this);